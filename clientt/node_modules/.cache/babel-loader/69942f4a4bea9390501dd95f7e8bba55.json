{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"F:/projects/reactprojects/memories/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"F:/projects/reactprojects/memories/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"F:/projects/reactprojects/memories/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Container,Paper,Typography,Avatar,Button,Grid}from'@material-ui/core';import{GoogleLogin}from'react-google-login';import{useDispatch}from'react-redux';import{useHistory}from'react-router-dom';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import useStyles from'./styles.js';import Input from'./Input.js';import Icon from'./icon.js';import{signin,signup}from'../actions/auth';var initialdata={firstName:\"\",lastName:\"\",email:\"\",pssword:\"\",confirmpassword:\"\"};var Auth=function Auth(){var classes=useStyles();var history=useHistory();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isSignup=_useState2[0],setIsSignUp=_useState2[1];var _useState3=useState(initialdata),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showPassword=_useState6[0],setShowPassWord=_useState6[1];var dispatch=useDispatch();var googlesuccess=function googlesuccess(res){var result=res===null||res===void 0?void 0:res.profileObj;var token=res===null||res===void 0?void 0:res.tokenId;try{dispatch({type:'AUTH',data:{result:result,token:token}});history.push('/');}catch(error){console.log(error);}};var googleFailure=function googleFailure(){console.log(\"google login failed\");};var handleSubmit=function handleSubmit(e){e.preventDefault();// console.log(formData)\nif(isSignup){dispatch(signup(formData,history));}else{dispatch(signin(formData,history));}};var handleChange=function handleChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var switchMode=function switchMode(){setIsSignUp(function(s){return!s;});};var handleShowPassword=function handleShowPassword(){return setShowPassWord(function(s){return!s;});};return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"xs\",children:/*#__PURE__*/_jsxs(Paper,{className:classes.paper,elevation:3,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:isSignup?'Sign up':'Sign in'}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[isSignup&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Input,{name:\"firstName\",label:\"First Name\",handleChange:handleChange,autoFocus:true,half:true}),/*#__PURE__*/_jsx(Input,{name:\"lastName\",label:\"Last Name\",handleChange:handleChange,half:true})]}),/*#__PURE__*/_jsx(Input,{name:\"email\",label:\"Email Address\",handleChange:handleChange,type:\"email\"}),/*#__PURE__*/_jsx(Input,{name:\"password\",label:\"Password\",handleChange:handleChange,type:showPassword?'text':'password',handleShowPassword:handleShowPassword}),isSignup&&/*#__PURE__*/_jsx(Input,{name:\"confirmpassword\",label:\"Repeat Password\",handleChange:handleChange,type:\"password\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,children:isSignup?'Sign Up':'Sign In'}),/*#__PURE__*/_jsx(GoogleLogin,{clientId:\"884744859070-gnueks577jei3ned1cg7hbtpm2j0v1gt.apps.googleusercontent.com\",render:function render(renderProps){return/*#__PURE__*/_jsx(Button,{className:classes.googleButton,fullWidth:true,color:\"primary\",onClick:renderProps.onClick,variant:\"contained\",startIcon:/*#__PURE__*/_jsx(Icon,{}),disabled:renderProps.disabled,children:\"Google Sign In\"});},onSuccess:googlesuccess,onFailure:googleFailure,cookiePolicy:\"single_host_origin\"}),/*#__PURE__*/_jsx(Grid,{container:true,justify:\"flex-end\",children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{onClick:switchMode,children:isSignup?\"Already have an account? Sign In\":\"Don't have an ccount? Sign Up\"})})})]})]})});};export default Auth;","map":{"version":3,"sources":["F:/projects/reactprojects/memories/client/src/auth/Auth.js"],"names":["React","useState","Container","Paper","Typography","Avatar","Button","Grid","GoogleLogin","useDispatch","useHistory","LockOutlinedIcon","useStyles","Input","Icon","signin","signup","initialdata","firstName","lastName","email","pssword","confirmpassword","Auth","classes","history","isSignup","setIsSignUp","formData","setFormData","showPassword","setShowPassWord","dispatch","googlesuccess","res","result","profileObj","token","tokenId","type","data","push","error","console","log","googleFailure","handleSubmit","e","preventDefault","handleChange","target","name","value","switchMode","s","handleShowPassword","paper","avatar","form","submit","renderProps","googleButton","onClick","disabled"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\r\nimport {Container,Paper,Typography,Avatar,Button, Grid} from '@material-ui/core'\r\nimport {GoogleLogin} from 'react-google-login'\r\nimport {useDispatch} from 'react-redux'\r\nimport {useHistory} from 'react-router-dom'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\r\nimport useStyles from './styles.js'\r\nimport Input from './Input.js'\r\nimport Icon from './icon.js'\r\nimport {signin,signup} from '../actions/auth'\r\n\r\nconst initialdata={firstName:\"\",lastName:\"\",email:\"\",pssword:\"\",confirmpassword:\"\"}\r\n\r\nconst Auth=()=>{\r\n  const classes=useStyles()\r\n  const history=useHistory()\r\n  const [isSignup,setIsSignUp]=useState(true)\r\n  const [formData,setFormData]=useState(initialdata)\r\n  const [showPassword,setShowPassWord]=useState(false)\r\n const dispatch=useDispatch()\r\n  const googlesuccess=(res)=>{\r\n    \r\n      const result=res?.profileObj;\r\n      const token=res?.tokenId;\r\n      try {\r\n        dispatch({type:'AUTH', data:{result,token}})\r\n        history.push('/')\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n  }\r\n\r\n  const googleFailure=()=>{\r\n    console.log(\"google login failed\")\r\n  }\r\n\r\n  const handleSubmit=(e)=>{\r\n    e.preventDefault()\r\n    // console.log(formData)\r\n    if(isSignup){\r\n      dispatch(signup(formData,history))\r\n    }\r\n    else{\r\n       dispatch(signin(formData,history))\r\n    }\r\n\r\n\r\n  }\r\n  const handleChange=(e)=>{\r\n    setFormData({...formData,[e.target.name]:e.target.value})\r\n  }\r\n\r\n  const switchMode=()=>{\r\n    setIsSignUp((s)=>!s)\r\n  }\r\n\r\n  const handleShowPassword=()=>(\r\n    setShowPassWord((s)=>!s)\r\n  )\r\n  return (\r\n   <Container component=\"main\" maxWidth=\"xs\">\r\n      <Paper className={classes.paper} elevation={3}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">{ isSignup ? 'Sign up' : 'Sign in' }</Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit}>\r\n          <Grid container spacing={2}>\r\n            { isSignup && (\r\n            <>\r\n              <Input name=\"firstName\" label=\"First Name\" handleChange={handleChange} autoFocus half />\r\n              <Input name=\"lastName\" label=\"Last Name\" handleChange={handleChange} half />\r\n            </>\r\n            )}\r\n            <Input name=\"email\" label=\"Email Address\" handleChange={handleChange} type=\"email\"  />\r\n            <Input name=\"password\" label=\"Password\" handleChange={handleChange} type={showPassword ? 'text' : 'password'} handleShowPassword={handleShowPassword} />\r\n            { isSignup && <Input name=\"confirmpassword\" label=\"Repeat Password\" handleChange={handleChange} type=\"password\" /> }\r\n          </Grid>\r\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n            { isSignup ? 'Sign Up' : 'Sign In' }\r\n          </Button>\r\n          <GoogleLogin \r\n          clientId=\"884744859070-gnueks577jei3ned1cg7hbtpm2j0v1gt.apps.googleusercontent.com\"\r\n          render={(renderProps)=>(\r\n          <Button className={classes.googleButton} fullWidth  color='primary' onClick={renderProps.onClick} variant=\"contained\"  startIcon={<Icon/>} disabled={renderProps.disabled}>Google Sign In</Button>\r\n          )}\r\n          onSuccess={googlesuccess}\r\n          onFailure={googleFailure}\r\n          cookiePolicy='single_host_origin'\r\n          />\r\n          <Grid container justify='flex-end'>\r\n            <Grid item>\r\n              <Button onClick={switchMode}>\r\n                {isSignup?\"Already have an account? Sign In\":\"Don't have an ccount? Sign Up\"}\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </Paper>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Auth;\r\n"]},"metadata":{},"sourceType":"module"}