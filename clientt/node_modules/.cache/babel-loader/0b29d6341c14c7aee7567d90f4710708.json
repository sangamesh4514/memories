{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';import useStyles from'./styles';import{Card,CardContent,CardActions,CardMedia,Button,Typography}from'@material-ui/core';import ThumbUpAltIcon from'@material-ui/icons/ThumbUpAlt';import DeleteIcon from'@material-ui/icons/Delete';import MoreHorizIccon from'@material-ui/icons/MoreHoriz';import moment from'moment';import{useDispatch}from'react-redux';import{deletePost,likePost}from'../../actions/posts';var Post=function Post(_ref){var _user$result,_user$result2,_user$result3,_user$result4;var post=_ref.post,setCurrentId=_ref.setCurrentId;var classes=useStyles();var user=JSON.parse(localStorage.getItem('profile'));var dispatch=useDispatch();return/*#__PURE__*/_jsxs(Card,{className:classes.card,children:[/*#__PURE__*/_jsx(CardMedia,{className:classes.media,image:post.selectedFile,title:post.title}),/*#__PURE__*/_jsxs(\"div\",{className:classes.overlay,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:post.name}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:moment(post.createdAt).fromNow()})]}),((user===null||user===void 0?void 0:(_user$result=user.result)===null||_user$result===void 0?void 0:_user$result.googleId)===(post===null||post===void 0?void 0:post.creator)||(user===null||user===void 0?void 0:(_user$result2=user.result)===null||_user$result2===void 0?void 0:_user$result2._id)===(post===null||post===void 0?void 0:post.creator))&&/*#__PURE__*/_jsx(\"div\",{className:classes.overlay2,children:/*#__PURE__*/_jsx(Button,{style:{color:'white'},size:\"small\",onClick:function onClick(){setCurrentId(post._id);},children:/*#__PURE__*/_jsx(MoreHorizIccon,{fontSize:\"default\"})})}),/*#__PURE__*/_jsx(\"div\",{className:classes.details,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:post.tags.map(function(tag){return\"#\".concat(tag,\" \");})})}),/*#__PURE__*/_jsx(Typography,{className:classes.title,variant:\"h5\",children:post.title}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",component:\"p\",children:post.message})}),/*#__PURE__*/_jsxs(CardActions,{className:classes.cardActions,children:[/*#__PURE__*/_jsxs(Button,{size:\"small\",color:\"primary\",disabled:!(user===null||user===void 0?void 0:user.result),onClick:function onClick(){dispatch(likePost(post._id));},children:[/*#__PURE__*/_jsx(ThumbUpAltIcon,{fontSize:\"small\"}),post.likes.length,\"\\xA0like \\xA0\"]}),((user===null||user===void 0?void 0:(_user$result3=user.result)===null||_user$result3===void 0?void 0:_user$result3.googleId)===(post===null||post===void 0?void 0:post.creator)||(user===null||user===void 0?void 0:(_user$result4=user.result)===null||_user$result4===void 0?void 0:_user$result4._id)===(post===null||post===void 0?void 0:post.creator))&&/*#__PURE__*/_jsxs(Button,{size:\"small\",color:\"primary\",onClick:function onClick(){dispatch(deletePost(post._id));},children:[/*#__PURE__*/_jsx(DeleteIcon,{fontSize:\"small\"}),\"\\xA0 delete\"]})]})]});};export default Post;","map":{"version":3,"sources":["F:/projects/reactprojects/memories/client/src/Posts/Post/Post.js"],"names":["React","useStyles","Card","CardContent","CardActions","CardMedia","Button","Typography","ThumbUpAltIcon","DeleteIcon","MoreHorizIccon","moment","useDispatch","deletePost","likePost","Post","post","setCurrentId","classes","user","JSON","parse","localStorage","getItem","dispatch","card","media","selectedFile","title","overlay","name","createdAt","fromNow","result","googleId","creator","_id","overlay2","color","details","tags","map","tag","message","cardActions","likes","length"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport useStyles from './styles'\r\nimport {Card,CardContent,CardActions,CardMedia,Button,Typography} from '@material-ui/core'\r\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport MoreHorizIccon from '@material-ui/icons/MoreHoriz'\r\nimport moment from 'moment'\r\nimport {useDispatch} from 'react-redux'\r\nimport {deletePost,likePost} from '../../actions/posts'\r\n\r\nconst Post=({post,setCurrentId})=>{\r\n   const classes=useStyles()\r\n   const user=JSON.parse(localStorage.getItem('profile'))\r\n   const dispatch=useDispatch()\r\n   \r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardMedia className={classes.media} image={post.selectedFile} title={post.title}/>\r\n      <div className={classes.overlay}>\r\n        <Typography variant=\"h6\">{post.name}</Typography>\r\n        <Typography variant=\"body2\">{moment(post.createdAt).fromNow()}</Typography>\r\n      </div>\r\n      {(user?.result?.googleId===post?.creator || user?.result?._id===post?.creator)&&(\r\n      <div className={classes.overlay2} >\r\n        <Button style={{color:'white'}} size='small' onClick={()=>{setCurrentId(post._id)}}>\r\n          <MoreHorizIccon fontSize='default'/>\r\n        </Button>\r\n      </div>\r\n      )}\r\n      <div className={classes.details}>\r\n        <Typography variant='body2' color='textSecondary'>{post.tags.map((tag)=>`#${tag} `)}</Typography>\r\n      </div>\r\n      <Typography  className={classes.title} variant='h5'>{post.title}</Typography>\r\n      <CardContent>\r\n        \r\n        <Typography   variant='body2' component='p'>{post.message}</Typography>\r\n      </CardContent>\r\n      <CardActions className={classes.cardActions}>\r\n        <Button size='small' color='primary' disabled={!user?.result}  onClick={()=>{dispatch(likePost(post._id))}}>\r\n          <ThumbUpAltIcon fontSize='small'/>\r\n           {post.likes.length} \r\n           &nbsp;like &nbsp;\r\n          </Button>\r\n\r\n        {(user?.result?.googleId===post?.creator || user?.result?._id===post?.creator)&&(\r\n          <Button size='small' color='primary' onClick={()=>{dispatch(deletePost(post._id))}}>\r\n                    <DeleteIcon fontSize='small'/>\r\n                    &nbsp; delete\r\n                  </Button>\r\n\r\n        )}\r\n        \r\n      </CardActions>\r\n    </Card>\r\n    \r\n  )\r\n}\r\nexport default Post"]},"metadata":{},"sourceType":"module"}